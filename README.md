## üéØ Landing Platform API

–ë—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –∫—É—Ä–∞—Ç–æ—Ä–∞–º–∏ –∏ –±–æ–Ω—É—Å–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π.

---

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- üîó –°–≤—è–∑—å –∫—É—Ä–∞—Ç–æ—Ä–æ–≤ —Å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º–∏
- üóÉÔ∏è –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
- üßπ –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
- üß™ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ API


---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –º–∏–≥—Ä–∞—Ü–∏–π

```bash
dotnet ef database update --startup-project ./LendingAPI --project ./Landing.Infrastructure
```

–î–æ–±–∞–≤—å —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ `appsettings.json`:

```json
"ConnectionStrings": {
  "DefaultConnection": "Host=localhost;Port=5432;Database=landing_db;Username=postgres;Password=your_password"
}
```

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **ASP.NET Core Web API (.NET 8)**
- **Entity Framework Core + PostgreSQL**
- **JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å Refresh-—Ç–æ–∫–µ–Ω–∞–º–∏**
- **–†–æ–ª–∏ –∏ —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞** (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∞–¥–º–∏–Ω, –∫—É—Ä–∞—Ç–æ—Ä)
- **–°–∏—Å—Ç–µ–º–∞ –±–∞–ª–ª–æ–≤ —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏**
- **Hangfire** ‚Äî –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∏ –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- **Swagger / OpenAPI** ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üîó –°–≤—è–∑—å –∫—É—Ä–∞—Ç–æ—Ä–æ–≤ —Å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º–∏

–ö—É—Ä–∞—Ç–æ—Ä—ã (`User`) –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω—ã –∫ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º —Ç–∏–ø–∞ `CuratedEvent`. –°–≤—è–∑—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é —Ç–∞–±–ª–∏—Ü—É `UserCuratedEvents` (many-to-many).

**–ú–æ–¥–µ–ª—å `User`:**
```csharp
public virtual ICollection<CuratedEvent> CuratedEvents { get; set; }
```

**–ú–æ–¥–µ–ª—å `CuratedEvent`:**
```csharp
public virtual ICollection<User> Curators { get; set; }
```

**Fluent API –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```csharp
builder
    .HasMany(e => e.Curators)
    .WithMany(u => u.CuratedEvents)
    .UsingEntity<Dictionary<string, object>>(
        "UserCuratedEvents",
        j => j.HasOne<User>().WithMany().HasForeignKey("UserId").OnDelete(DeleteBehavior.Cascade),
        j => j.HasOne<CuratedEvent>().WithMany().HasForeignKey("CuratedEventId").OnDelete(DeleteBehavior.Cascade),
        j =>
        {
            j.HasKey("UserId", "CuratedEventId");
            j.ToTable("UserCuratedEvents");
        });
```

---

## üóÉÔ∏è –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

| –¢–∞–±–ª–∏—Ü–∞                | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                      |
|------------------------|--------------------------------------------------|
| `Users`                | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã                            |
| `Events`               | –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö                |
| `CuratedEvents`        | –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è —Å –∫—É—Ä–∞—Ç–æ—Ä–∞–º–∏ (–Ω–∞—Å–ª–µ–¥—É–µ—Ç `Event`)   |
| `UserCuratedEvents`    | –°–≤—è–∑–∏ –º–µ–∂–¥—É –∫—É—Ä–∞—Ç–æ—Ä–∞–º–∏ –∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º–∏         |
| `UserRoles`            | –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π                             |
| `EventAttendances`     | –£—á—ë—Ç –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π                  |
| `UserPointsTransactions`| –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –∏ —Å–ø–∏—Å–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤                  |
| `RefreshTokens`        | –û–±–Ω–æ–≤–ª—è—é—â–∏–µ JWT-—Ç–æ–∫–µ–Ω—ã                         |
| `News`                 | –ù–æ–≤–æ—Å—Ç–∏ –∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è                           |

---

## üßπ –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ

- –ü—Ä–∏ **—É–¥–∞–ª–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: —Å–≤—è–∑–∏ —Å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º–∏ –≤ `UserCuratedEvents` —É–¥–∞–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü—Ä–∏ **—É–¥–∞–ª–µ–Ω–∏–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è**: –≤—Å–µ –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–µ –∫—É—Ä–∞—Ç–æ—Ä—ã —Ç–æ–∂–µ –æ—Ç–≤—è–∑—ã–≤–∞—é—Ç—Å—è

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `OnDelete(DeleteBehavior.Cascade)` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏.

---

## üß™ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ API

‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ Email

‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ JWT + Refresh Tokens

‚úÖ –†–æ–ª–∏: –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∫—É—Ä–∞—Ç–æ—Ä

‚úÖ CRUD –¥–ª—è –Ω–æ–≤–æ—Å—Ç–µ–π –∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π

‚úÖ –ó–∞–ø–∏—Å—å –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —è–≤–∫–∏

‚úÖ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫—É—Ä–∞—Ç–æ—Ä–æ–≤ –¥–ª—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π

‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–∞–ª–ª–æ–≤ –∏ —É—á—ë—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

‚úÖ –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è (Hangfire):
- –£–¥–∞–ª–µ–Ω–∏–µ –º—É—Å–æ—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–∞–ª–ª–æ–≤ –Ω–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è

---


